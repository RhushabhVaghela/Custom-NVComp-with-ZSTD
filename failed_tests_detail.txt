Test project /mnt/d/Research Experiments/TDPE_and_GPU_loading/NVComp with ZSTD/build
      Start  2: test_alternative_allocation_strategies
 1/23 Test  #2: test_alternative_allocation_strategies ....Subprocess aborted***Exception:   3.93 sec

========================================
CUDA ZSTD - Alternative Allocation Strategies Test Suite
========================================

Using CUDA device: NVIDIA GeForce RTX 5080 Laptop GPU
Compute capability: 12.0
Total memory: 16302 MB
========================================
SUITE 1: Smart Allocation Algorithms
========================================

[TEST] Smart Allocation Interface
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=1048576
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0x90ba00000
  [INFO] Smart allocation succeeded: 1048576 bytes
  [INFO]   Strategy used: 0
  [INFO]   Is enhanced: No
  [INFO]   Is dual memory: No
MemoryPoolManager::deallocate: pointer not found in pools: ptr=0x90ba00000 - skipping free
  [FAIL] test_smart_allocation_interface: Deallocation failed Status: ERROR_INVALID_PARAMETER

[TEST] Allocation Strategy Selection
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=524288
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0x90bb00000
  [INFO] Strategy AUTO_ADAPTIVE succeeded: 524288 bytes
  [INFO]   Is host memory: No
MemoryPoolManager::deallocate: pointer not found in pools: ptr=0x90bb00000 - skipping free
  [FAIL] test_allocation_strategy_selection: Deallocation failed for strategy AUTO_ADAPTIVE Status: ERROR_INVALID_PARAMETER

[TEST] Dual Memory Allocation
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=262144
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0x90bb80000
MemoryPoolManager::allocate_from_host: host allocation ptr=0x204c00000 size=262144
  [INFO] Dual memory allocation succeeded
  [INFO]   GPU allocation: Yes
  [INFO]   Host allocation: Yes
  [INFO]   Effective size: 0 bytes
  [INFO]   Is dual memory: Yes
MemoryPoolManager::deallocate: pointer not found in pools: ptr=0x90bb80000 - skipping free
  [FAIL] test_dual_memory_allocation: GPU deallocation failed Status: ERROR_INVALID_PARAMETER
========================================
SUITE 2: Rollback Procedures
========================================

[TEST] Rollback Context Management
  [INFO] Rollback context created and completed successfully
  [PASS] Rollback Context Management

[TEST] Rollback Protection
MemoryPoolManager::allocate: requested size=1073741824 stream=0
MemoryPoolManager::allocate: pool_idx=-1
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=1073741824
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0x90bc00000
MemoryPoolManager::allocate: requested size=1073741824 stream=0
MemoryPoolManager::allocate: pool_idx=-1
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=1073741824
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0x94bc00000
MemoryPoolManager::allocate: requested size=1073741824 stream=0
MemoryPoolManager::allocate: pool_idx=-1
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=1073741824
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0x98bc00000
MemoryPoolManager::allocate: requested size=1073741824 stream=0
MemoryPoolManager::allocate: pool_idx=-1
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=1073741824
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0x9cbc00000
MemoryPoolManager::allocate: requested size=1073741824 stream=0
MemoryPoolManager::allocate: pool_idx=-1
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=1073741824
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0xa0bc00000
  [INFO] Pre-rollback failures: 0
  [INFO] Post-rollback failures: 0
  [INFO] Rollback operations: 0
  [FAIL] test_rollback_protection: Should have recorded allocation failures

[TEST] System Recovery
  [INFO] System recovery completed successfully
  [PASS] System Recovery
========================================
SUITE 3: Progressive Enhancement
========================================

[TEST] Enhancement State Management
  [PASS] Enhancement State Management

[TEST] Progressive Enhancement
  [PASS] Progressive Enhancement

[TEST] Allocation Enhancement
MemoryPoolManager::allocate: requested size=1048576 stream=0
MemoryPoolManager::allocate: pool_idx=4
MemoryPoolManager::allocate: got lock for pool_idx=4
MemoryPoolManager::allocate: after find_free_entry entry=0
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=1048576
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0xa4bc00000
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=1048576
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0xa4bd00000
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=1048576
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0xa4be00000
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=1048576
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0xa4bf00000
grow_pool: Allocation succeeded for new_entries=4; about to insert into pool
grow_pool: Inserted new entries into pool (pool_idx=4)
MemoryPoolManager::allocate: grow_pool returned status=0
  [INFO] Allocation enhancement failed (may be expected)
  [PASS] Allocation Enhancement
========================================
SUITE 4: Resource-Aware Allocation
========================================

[TEST] Resource State Tracking
  [INFO] Available GPU memory: 9835 MB
  [INFO] Current GPU usage: 0 MB
  [INFO] Current host usage: 0 MB
  [INFO] Active allocations: 0
  [INFO] Fragmentation ratio: 0%
  [INFO] Memory efficiency: 0%
  [PASS] Resource State Tracking

[TEST] Strategy Optimization
  [INFO] Optimal strategy for 1048576 bytes: 1
  [INFO] Optimal size for 1048576 bytes: 1048576 bytes
  [INFO] Resource balance status: SUCCESS
  [PASS] Strategy Optimization
========================================
SUITE 5: Advanced Statistics
========================================

[TEST] Advanced Statistics
MemoryPoolManager::allocate: requested size=65536 stream=0
MemoryPoolManager::allocate: pool_idx=2
MemoryPoolManager::allocate: got lock for pool_idx=2
MemoryPoolManager::allocate: after find_free_entry entry=0
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=65536
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0x90bbc0000
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=65536
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0x90bbd0000
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=65536
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0x90bbe0000
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=65536
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0x90bbf0000
grow_pool: Allocation succeeded for new_entries=4; about to insert into pool
grow_pool: Inserted new entries into pool (pool_idx=2)
MemoryPoolManager::allocate: grow_pool returned status=0
  [INFO] Allocation 0: 65536 -> 65536 bytes
MemoryPoolManager::allocate: requested size=81920 stream=0
MemoryPoolManager::allocate: pool_idx=3
MemoryPoolManager::allocate: got lock for pool_idx=3
MemoryPoolManager::allocate: after find_free_entry entry=0
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=262144
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0x90bbc0000
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=262144
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0xa4bc00000
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=262144
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0xa4bc40000
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=262144
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0xa4bc80000
grow_pool: Allocation succeeded for new_entries=4; about to insert into pool
grow_pool: Inserted new entries into pool (pool_idx=3)
MemoryPoolManager::allocate: grow_pool returned status=0
  [INFO] Allocation 1: 81920 -> 81920 bytes
MemoryPoolManager::allocate: requested size=98304 stream=0
MemoryPoolManager::allocate: pool_idx=3
MemoryPoolManager::allocate: got lock for pool_idx=3
MemoryPoolManager::allocate: after find_free_entry entry=0x5849e0ed1f18
  [INFO] Allocation 2: 98304 -> 98304 bytes
MemoryPoolManager::allocate: requested size=114688 stream=0
MemoryPoolManager::allocate: pool_idx=3
MemoryPoolManager::allocate: got lock for pool_idx=3
MemoryPoolManager::allocate: after find_free_entry entry=0x5849e0ed1f60
  [INFO] Allocation 3: 114688 -> 114688 bytes
MemoryPoolManager::allocate: requested size=131072 stream=0
MemoryPoolManager::allocate: pool_idx=3
MemoryPoolManager::allocate: got lock for pool_idx=3
MemoryPoolManager::allocate: after find_free_entry entry=0x5849e0ed1fa8
  [INFO] Allocation 4: 131072 -> 131072 bytes
MemoryPoolManager::allocate: requested size=147456 stream=0
MemoryPoolManager::allocate: pool_idx=3
MemoryPoolManager::allocate: got lock for pool_idx=3
MemoryPoolManager::allocate: after find_free_entry entry=0
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=262144
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0x90bbc0000
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=262144
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0xa4bc00000
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=262144
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0xa4bc40000
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=262144
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0xa4bc80000
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=262144
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0xa4bcc0000
MemoryPoolManager::allocate_from_cuda: trying cudaMalloc size=262144
MemoryPoolManager::allocate_from_cuda: cudaMalloc returned err=0 ptr=0xa4bd00000
grow_pool: Allocation succeeded for new_entries=6; about to insert into pool
grow_pool: Inserted new entries into pool (pool_idx=3)
MemoryPoolManager::allocate: grow_pool returned status=0
  [INFO] Allocation 5: 147456 -> 147456 bytes
MemoryPoolManager::allocate: requested size=163840 stream=0
