# Coverage Report

## Current State
- No coverage data files (e.g., `.gcov`, `coverage/`, `lcov.info`) were found in the repository.
- The existing test suite crashes frequently, preventing successful execution of coverage tools.

## Why Coverage Is Missing
1. **Segmentation Faults** – Most tests terminate with crashes, so the test binary never completes to generate coverage information.
2. **Build Configuration** – The project appears to be built without the required compiler flags for coverage (`-g -G` for CUDA, `-O0`, `--coverage` for GCC/Clang).
3. **Missing Coverage Tool Integration** – No commands invoking `gcov`, `llvm-cov`, or `lcov` are present in the build scripts.

## Recommended Steps to Obtain Coverage
1. **Enable Debug & Coverage Flags**
   ```bash
   # Example CMake flags for coverage on Linux/macOS (adjust for Windows)
   cmake -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_FLAGS="--coverage -O0" -DCMAKE_CUDA_FLAGS="-G -lineinfo" ..
   ```
   For Windows with MSVC, use `/Zi /Od` and the `--coverage` flag for clang-cl.
2. **Run Tests Under Coverage Tool**
   ```bash
   # After building with coverage flags
   ctest --output-on-failure
   # Then generate coverage report (gcov example)
   gcov -r $(find . -name "*.gcda")
   ```
3. **Use `llvm-cov` for CUDA** – Compile with `-Xcompiler "-fprofile-arcs -ftest-coverage"` and run `llvm-cov show` on the test binary.
4. **Automate Report Generation** – Add a target to `CMakeLists.txt`:
   ```cmake
   add_custom_target(coverage
       COMMAND ${CMAKE_MAKE_PROGRAM} test
       COMMAND gcovr -r . --html -o coverage.html
   )
   ```
5. **Address Crashes First** – Resolve the segmentation faults (use `cuda-memcheck`, address sanitizer, and review memory‑pool usage) before attempting coverage collection.

## Next Steps
- **Fix the crashing tests** (see the Codebase Analysis Report for detailed suggestions).
- **Re‑configure the build with coverage flags** and re‑run the test suite.
- **Generate and review the coverage HTML report** to identify untested code paths.

*Generated by Antigravity.*
